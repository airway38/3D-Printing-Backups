[filament_motion_sensor SFS_1]
detection_length: 10
extruder: extruder
switch_pin: ^PG12
pause_on_runout: True
runout_gcode:
	RUN_OUT
event_delay: 3.0
pause_delay: 0.5

[filament_motion_sensor SFS_2]
detection_length: 10
extruder: extruder
switch_pin: ^PG13
pause_on_runout: True
runout_gcode:
	RUN_OUT
event_delay: 3.0
pause_delay: 0.5


[delayed_gcode disable_filament_sensors_startup] # This will disable the SFS 1 second after klipper starts
initial_duration: 1
gcode:
    SET_FILAMENT_SENSOR SENSOR=SFS_1 ENABLE=0
	SET_FILAMENT_SENSOR SENSOR=SFS_2 ENABLE=0


[gcode_macro check_filament_sensors]
description: Check filament sensor status
gcode:	
	QUERY_FILAMENT_SENSOR SENSOR=SFS_1
	QUERY_FILAMENT_SENSOR SENSOR=SFS_2

[gcode_macro disable_filament_sensors]
description: Disable smart filament sensors
gcode:	
	SET_FILAMENT_SENSOR SENSOR=SFS_1 ENABLE=0
	SET_FILAMENT_SENSOR SENSOR=SFS_2 ENABLE=0

[gcode_macro enable_filament_sensors]
description: Enable smart filament sensors
gcode:	
	SET_FILAMENT_SENSOR SENSOR=SFS_1 ENABLE=1
	SET_FILAMENT_SENSOR SENSOR=SFS_2 ENABLE=1